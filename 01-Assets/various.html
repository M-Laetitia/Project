


Faire profil public ? 
+ faire list user pour admin

+ modale de confirmation

+termine pages artistes (avec réseaux sociaux + bannière + image + charger multiples images + )
faire en plusieurs pages ?
ou en plusieurs sous form?
mettre min et max images
avec conditions


regarder pour stripe 

+ calendar 

// workshop :
permettre juste de bloquer des horaires par heure et vérifier si pas déjà pris 
et permettre plusieurs réservation à la fois.


// fonction à ajouter
pagination
map (leaflet)
pdf
easy admin
ajax
lazy loading
drag & drop 
fil d'ariane
barre de recherche tag

php --version



https://stripe.com/docs/security
https://stripe.com/docs/api/errors
https://www.binaryboxtuts.com/php-tutorials/symfony-6-integrating-stripe-payment-gateway-tutorial/
https://symfonycasts.com/screencast/stripe/charge-it


https://symfonycasts.com/screencast/stripe-level2/user-has-subscription


<!-- types de carte:
solde insuffisant:
4000 000 0000 9995  12/34  567  89000

une carte qui demande un 3dcqo
4000 0025 0000 3155 

carte à validation systématique
 -->



<script>
    // Faire disparaître flash message après 5 secondes (5000 millisecondes)
    setTimeout(function() {
        let flashMessage = document.querySelector('.alert');
        if (flashMessage) {
            flashMessage.style.display = 'none';
        }
    }, 5000);
</script>


<script>
    // Disparaître après 5 secondes (5000 millisecondes)
    setTimeout(function() {
        let flashMessage = document.querySelector('.alert');
        if (flashMessage) {
            flashMessage.style.animation = 'fadeOutUp 1s ease-out';
            setTimeout(function() {
                flashMessage.style.display = 'none';
            }, 1000);
        }
    }, 5000);
</script>

<style>
    @keyframes fadeOutUp {
        0% {
            opacity: 1;
            transform: translateY(0);
        }
        100% {
            opacity: 0;
            transform: translateY(-20px);
        }
    }

    .alert {
        animation: none; /* Réinitialiser l'animation à la première exécution */
        display: block;
        margin-bottom: 20px; /* Ajouter de l'espace pour éviter que le contenu ne saute */
    }
</style>


{# ^------------------------------FORM #}

 Indiquer que l'image doit être de 300x300 pixels 
 <label for="image">Image (300x300 pixels):</label>
<input type="file" id="image" name="image" accept="image/*"> 

{{ form_start(form) }}
    <div class="my-custom-class-for-errors">
        {{ form_errors(form) }}
    </div>

    <div class="row">
        <div class="col">
            {{ form_row(form.task) }}
        </div>
        <div class="col" id="some-custom-id">
            {{ form_row(form.dueDate) }}
        </div>
    </div>
{{ form_end(form) }}

https://symfony.com/doc/current/form/form_customization.html

If you're rendering each field manually, make sure you don't forget the _token field that is automatically added for CSRF protection.

field_name()
field_value()
field_label()
field_help()
field_errors()
field_choices() (an iterator for choice fields; e.g. for <select>)

{{ form_widget(form.task, {'attr': {'class': 'task_field'}}) }}

{# # https://github.com/mailhog/MailHog/releases #}


// artsit search sur la même page que l'index avec gestion sessions :

#[Route('/artist', name: 'app_artist')]
public function index(UserRepository $userRepository, Request $request): Response
{
    $formArtistSearch = $this->createForm(SearchArtistType::class);
    $formArtistSearch->handleRequest($request);

    $artistsSearch = [];

    if ($formArtistSearch->isSubmitted() && $formArtistSearch->isValid()) {
        $criteria = $formArtistSearch->getData();
        $artistsSearch = $userRepository->findArtistByCriteria($criteria);
        
        // Stocker les résultats de la recherche en session
        $request->getSession()->set('artistsSearch', $artistsSearch);
    }

    // Effacer les résultats de la recherche si la page est chargée via la méthode GET
    if ($request->getMethod() === 'GET') {
        $request->getSession()->remove('artistsSearch');
    } else {
        // Si la page est chargée via une autre méthode (par exemple POST), récupérez les résultats de la recherche depuis la session
        $artistsSearch = $request->getSession()->get('artistsSearch', []);
    }

    $artists = $userRepository->findArtistUsers();

    return $this->render('artist/index.html.twig', [
        'artists' => $artists,
        'formArtistSearch' => $formArtistSearch->createView(),
        'artistsSearch' => $artistsSearch,
    ]);
}

// ancien form pour les timeslot


if ($form->isSubmitted() && $form->isValid() ) 
{
    // Récupérer les données soumises par le formulaire
    // $startTime = $form ->get('TimeSlotAvailability')->getData()->getStartTime();
    // $endTime = $form ->get('TimeSlotAvailability')->getData()->getEndTime();

    $day = $form->get('day')->getData();
    $dayString = $day->format('Y-m-d');

    // Combiner la date sélectionnée avec les heures de début et de fin pour obtenir les DateTime complets
    $startDateString = $dayString . ' ' . $startTime->format('H:i:s');
    $endDateString = $dayString . ' ' . $endTime->format('H:i:s');

    // Convertir les chaînes de caractères en objets DateTime complets
    $startDate = \DateTime::createFromFormat('Y-m-d H:i:s', $startDateString);
    $endDate = \DateTime::createFromFormat('Y-m-d H:i:s', $endDateString);

    $timeslot->setUser($user);

    // $timeslot->setDate($user);

    $timeslot->setStartDate($startDate);
    $timeslot->setEndDate($endDate);

    $timeslot = $form->getData();
    $entityManager->persist($timeslot);
    $entityManager->flush();

    return $this->redirectToRoute('studio_dashboard');
}


{# {{ dump(area.expositionProposals) }} #}
{# force l'initialisation de la collection #}
{# {{ area.expositionProposals|length }}  #}
{# {{ dump(area.expositionProposals) }} #}