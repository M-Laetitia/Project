<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
        <title>{% block title %}Welcome!{% endblock %}</title>

        <meta name="description" content="{% block meta %}Description!{% endblock %}">

        <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 128 128%22><text y=%221.2em%22 font-size=%2296%22>⚫️</text></svg>">

        {# Remix Icon #}
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/remixicon/3.6.0/remixicon.css" integrity="sha512-GL7EM8Lf8kU23I3kTio2kRWt8YRDVIQcSZjRVtVRfk05kB/QvkyafuTC94Ev0X6qk7Z0r5s06c1lsP1p/ezDYw==" crossorigin="anonymous" referrerpolicy="no-referrer">

        {# Font awesome #}
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA==" crossorigin="anonymous" referrerpolicy="no-referrer" />

        {# Google font: #}
        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@100;200;300;400;500;600;700;800;900&display=swap" rel="stylesheet">

        {% block stylesheets %}
            <link rel="stylesheet" href="{{asset('css/general.css')}}">
            <link rel="stylesheet" href="{{asset('css/component.css')}}">

        {% endblock %}

        {% block javascripts %}
        {% endblock %}
    </head>
    <body>

        <nav>
            <div class="home">

                <p class="{% if app.request.attributes.get('_route') == 'app_home' %}active{% endif %}">
                    <a href="{{ path('app_home') }}"><i class="ri-home-heart-fill"></i></a>
                </p>

            </div>

            <div class="links">

                <p class="{% if app.request.attributes.get('_route') == 'app_artist' %}active{% endif %}">
                    <a href="{{ path('app_artist') }}">ARTISTS</a>
                </p>

                <p class="{% if app.request.attributes.get('_route') == 'app_event' %}active{% endif %}">
                    <a href="{{ path('app_event') }}">EVENTS</a>
                </p>

                <p class="{% if app.request.attributes.get('_route') == 'app_workshop' %}active{% endif %}">
                    <a href="{{ path('app_workshop') }}">WORKSHOPS</a>
                </p>

                <p class="{% if app.request.attributes.get('_route') == 'app_exposition' %}active{% endif %}">
                    <a href="{{ path('app_exposition') }}">EXPOSITIONS</a>
                </p>

                <p class="{% if app.request.attributes.get('_route') == 'app_studio' %}active{% endif %}">
                    <a href="{{ path('app_studio') }}">ART STUDIOS</a>
                </p>

            
            </div>

            <div class="roles">
                {% if is_granted('ROLE_ADMIN') %}
                <a href="{{ path('app_dashboard')}}"><i class="ri-dashboard-fill"></i></a>
                {% endif %}
                
                
                {% if is_granted('ROLE_SUPERVISOR') and is_granted('ROLE_ADMIN')  %}
                <a href="{{ path('studio_dashboard')}}"><i  class="ri-table-fill"></i></a>
                {% endif %}
                
                
                {% if is_granted('ROLE_ARTIST') %}
                {# If the user has the "ROLE_ARTIST" role, redirect to artist page management #}
                <a href="{{ path('manage_artist', {'id': app.user.id }) }}"><i class="fa-solid fa-palette"></i></a>
                {% elseif is_granted('IS_AUTHENTICATED_FULLY') %}
                {# If a user is logged in but does not have the "ROLE_ARTIST" role, redirect to create a new artist #}
                <a href="{{ path('new_artist', {'id': app.user.id }) }}">Join us (for artists)</a>
                {% else %}
                {# else, add something eventually or not #}
                {% endif %}


                {% if app.user %}
                    <a href="{{ path('show_user', {'id': app.user.id }) }}"><i class="fa-solid fa-circle-user"></i></a>
                    <a href="{{ path('app_subscription')}}"><i class="ri-bard-fill"></i></a>
                {% else %}
                    <a href=" {{ path('app_register') }}">register</a>
                    <a href="{{ path('app_login') }}">login</a>
                {% endif %}
            </div>
            
            
        </nav>

  

            {% for message in app.flashes('success') %}
            <div class="alert alert-success">
                {{ message }}
            </div>
            {% endfor %} 

            {% for message in app.flashes('error') %}
            <div class="alert alert-error">
                {{ message }}
            </div>
            {% endfor %} 
        
        <div class="content">
            {% block body %}
            {% endblock %}
        </div>

        <footer>
            <a href="#">Terms of Use</a>
            <a href="#">Privacy Policy</a>
            <a href="#">Contact</a>
        </footer>
    </body>


    {# Jquery #}
    <script src="https://code.jquery.com/jquery-3.7.1.min.js" integrity="sha256-/JqT3SQfawRcv/BIHPThkBvs0OEvtFFmqPF/lYI/Cxo=" crossorigin="anonymous"></script>
    <script src="{{ asset('js/main.js') }}"></script>
    <script src="{{ asset('js/gwl.js') }}"></script>

</html>
