{% extends 'base.html.twig' %}

{% block title %}Home{% endblock %}
{% block meta %}Test home!{% endblock %}

{% block body %}

 
    <h1>Home</h1>
    <div>
        {% for artist in artists %}
            <p>{{ artist.artistInfos.address.street }}</p>
            <p>{{ artist.artistInfos.address.city }}</p>
            <p>{{ artist.artistInfos.address.postalCode }}</p>
            <p>{{ artist.artistInfos.address.country }}</p>
                
        {% endfor %}
        
    </div>
{# 
    {% for marker in markers %}
        {{ dump(marker)}}
    {% endfor %} #}


    {# Penser à rajouter les crédits ! #}

    <div id="map"></div>

    {# API LEAFLET #}
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY=" crossorigin="" />
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js" integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo=" crossorigin=""></script>


    {# LEAFLET GeoSearch #}
    <script src="https://unpkg.com/leaflet-geosearch/dist/geosearch.min.js"></script>
    <script src="https://unpkg.com/leaflet-geosearch/dist/geosearch.css"></script>

   
    <script src="{{asset('js/APIleaflet.js')}}"></script>

    <script>


        
        var map = L.map('map').setView([48.5734, 7.7521], 13);

        L.tileLayer('https://tile.openstreetmap.org/{z}/{x}/{y}.png', {
            maxZoom: 19,
            attribution: '&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>'
        }).addTo(map);

        import L from 'leaflet';
        import { GeoSearchControl, OpenStreetMapProvider } from 'leaflet-geosearch';

        const provider = new OpenStreetMapProvider();

        const searchControl = new GeoSearchControl({
        provider: provider,
        });

        const map = new L.Map('map');
        map.addControl(searchControl);

       
    </script>
    
        
{% endblock %}
