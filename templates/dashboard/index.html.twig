{% extends 'base.html.twig' %}

{% block title %}Hello DashboardController!{% endblock %}

{% block body %}

    <h1>Dashboard</h1>

    <div class="dahsboard-container">

        <div>
            <h2>Event</h2>
            <p><a class="btn" href="{{ path('new_event') }}">Create</a></p>
        </div>
        
        <div class="ongoing">
            <h3>Current and future Events  <span> <i class="ri-arrow-down-s-line"></i></span></h3>

            {% for event in ongoingEvents %}
            <div class="element">
                <p>
                     
                    <a href="{{ path('show_event_admin', {'id': event.id}) }}"><span class="name">✦{{event.name}}</span></a>
                    <span class="status {{ event.status == 'OPEN' ? 'open' : 
                                        (event.status == 'CLOSED' ? 'closed' : 
                                        (event.status == 'PENDING' ? 'pending' : 
                                        (event.status == 'ARCHIVED' ? 'archived' : 'status-default'))) }}">
                        {{ event.status }}
                    </span>
                
                </p>

                <p>{{event.startDate|formatDate}} - {{event.endDate|formatDate}} </p>
                <p>{{event.startDate|date('H:i')}} - {{event.endDate|date('H:i')}}</p>
                
                <p>Capacity: {{event.nbReversationMade}}  /  {{event.nbRooms}} - Remaining: {{event.nbReversationRemaining}}</p>
                <div> 
                    <a href="{{ path('show_event_admin', {'id': event.id}) }}"><i class="ri-eye-close-fill"></i></a>
                    <a href="{{ path('edit_event', {'id': event.id}) }}"><i class="ri-file-edit-fill"></i></a> 
                    <a href=""><i class="ri-close-circle-fill delete-btn" data-target="{{ event.id}}"></i></a>
                </div>
                <hr>

                <div class="delete-container" id="{{event.id}}" style="display:none">
                    <p>Are you sure you want to delete this entry? This cannot be undone.</p>
                    <div>
                        <p><a href="{{ path('delete_event', {'id': event.id}) }}"><i class="ri-check-line"></i> Confirm</a></p>
                        <p class="close-confirmation-btn"><i class="ri-close-fill "></i> Cancel</p>
                    </div>
                </div>

            </div>
            {% endfor %}

        </div>

        <div class="past-events">
            <h3>Past Events  <span> <i id="arrow-past-event" class="ri-arrow-down-s-line"></i></span></h3>
            {% for event in pastEvents %}
            <div class="element past-events-container" style="display:none">
                <p>
                     
                    <a href="{{ path('show_event_admin', {'id': event.id}) }}"><span class="name">✦{{event.name}}</span></a>
                    <span class="status {{ event.status == 'OPEN' ? 'open' : 
                                        (event.status == 'CLOSED' ? 'closed' : 
                                        (event.status == 'PENDING' ? 'pending' : 
                                        (event.status == 'ARCHIVED' ? 'archived' : 'status-default'))) }}">
                        {{ event.status }}
                    </span>
                
                </p>

                <p>{{event.startDate|formatDate}} - {{event.endDate|formatDate}} </p>
                <p>{{event.startDate|date('H:i')}} - {{event.endDate|date('H:i')}}</p>
                
                <p>Capacity: {{event.nbReversationMade}}  /  {{event.nbRooms}} - Remaining: {{event.nbReversationRemaining}}</p>
                <div> 
                    <a href="{{ path('show_event_admin', {'id': event.id}) }}"><i class="ri-eye-close-fill"></i></a>
                    <a href="{{ path('edit_event', {'id': event.id}) }}"><i class="ri-file-edit-fill"></i></a> 
                    <a href=""><i class="ri-close-circle-fill delete-btn" data-target="{{ event.id}}"></i></a>
                </div>
                <hr>

                <div class="delete-container" id="{{event.id}}" style="display:none">
                    <p>Are you sure you want to delete this entry? This cannot be undone.</p>
                    <div>
                        <p><a href="{{ path('delete_event', {'id': event.id}) }}"><i class="ri-check-line"></i> Confirm</a></p>
                        <p class="close-confirmation-btn"><i class="ri-close-fill "></i> Cancel</p>
                    </div>
                </div>

            </div>
            {% endfor %}

        </div>

        
        
    
       
        
   
    </div>
    <h2>Expo</h2>

    {% for expo in expositions %}
        <p>✦{{expo.name}}|| {{expo.nbRooms}} </p> 
        {{expo.startDate|formatDate}}  -  {{expo.endDate|formatDate}} 
        <p><a href="{{ path('show_expo_admin', {'id': expo.id}) }}">SEE MORE:</a></p>
        <p>Actions :  <br>
            <a href="{{ path('edit_expo', {'id': expo.id}) }}">edit</a> 
            <a href="{{ path('delete_expo', {'id': expo.id}) }}">Delete</a>
        <br>/ delete / open / lock / unlock / Archive / </p>
        <p>add picture</p>
        <hr>
    {% endfor %}

    <p><a href="{{ path('new_expo') }}">add an expo:</a></p>


    <hr><br>
    <h2>Workshop</h2>

    {% for workshop in workshops %}
        <p>✦{{workshop.name}}|| {{workshop.nbRooms}}  || {{workshop.status}}</p> 
        {{workshop.startDate|formatDate}}  -  {{workshop.endDate|formatDate}} 
        <p><a href="{{ path('show_workshop_admin', {'id': workshop.id}) }}">SEE MORE:</a></p>
        <p>Actions : <br>
            <a href="{{ path('edit_workshop', {'id': workshop.id}) }}">edit</a>
            <a href="{{ path('delete_workshop', {'id': workshop.id}) }}">Delete</a>
        <br>/ delete / open / lock / unlock / Archive / </p>
        <p>add picture</p>
        <hr>
    {% endfor %}

    <p><a href="{{ path('new_workshop') }}">add a workshop:</a></p>

    <hr><br>
    <h2>Studios</h2>

    {% for studio in studios %}
            <p>✦ Name {{ studio.name}}</p>
            <p>Capacity: {{ studio.nbRooms}}</p>
            <p><a href="{{ path('show_studio_admin', {'id': studio.id}) }}">SEE MORE:</a></p>
        <p>Action: edit /delete </p>
        
    {% endfor %}

{% endblock %}
